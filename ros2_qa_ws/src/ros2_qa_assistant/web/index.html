<!doctype html>
<html lang="zh-cn">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ROS2 AI问答助手</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  </head>
  <body>
    <!-- 头部信息（顶部居中） -->
    <div class="header-left">
      <div class="avatar">
        <i class="fas fa-robot"></i>
      </div>
      <div class="header-info">
        <h2>ROS2 AI助手</h2>
        <div class="connection-status" id="connection-status">
          <span class="status-dot" id="status-dot"></span>
          <span id="status-text">未连接</span>
        </div>
      </div>
    </div>

    <!-- 头部操作按钮（顶部右侧） -->
    <div class="header-actions">
      <button class="action-btn" id="clear-chat" title="清除对话">
        <i class="fas fa-trash"></i>
      </button>
      <button class="action-btn" id="settings-btn" title="连接设置">
        <i class="fas fa-cog"></i>
      </button>
    </div>

    <!-- 连接设置面板 -->
    <div class="settings-panel" id="settings-panel">
      <div class="settings-content">
        <label for="ws-url">WebSocket地址</label>
        <div class="input-group">
          <input id="ws-url" value="ws://localhost:9090" placeholder="ws://localhost:9090" />
          <button id="connect-btn" class="connect-btn">
            <i class="fas fa-plug"></i>
            <span>连接</span>
          </button>
        </div>
      </div>
    </div>

    <!-- 对话区域 -->
    <div class="chat-messages" id="chat-messages">
      <div class="welcome-message">
        <div class="message-bubble we-message">
          <div class="message-content">
            <p>你好！我是ROS2 AI助手，可以帮你解答关于ROS2的各种问题。</p>
            <p>请先点击右上角设置按钮连接到ROS系统，然后开始提问吧！</p>
          </div>
        </div>
      </div>
    </div>

    <!-- 输入区域 -->
    <div class="chat-input">
      <div class="input-container">
        <textarea id="question" placeholder="请输入你的问题，例如：ROS是什么？" rows="1"></textarea>
        <button id="send-btn" class="send-btn" disabled>
          <i class="fas fa-paper-plane"></i>
        </button>
      </div>
    </div>

    <!-- 加载脚本 -->
    <script src="https://cdn.bootcdn.net/ajax/libs/roslibjs/1.1.0/roslib.js"></script>
    <script>window.ROSLIB || document.write('<script src="roslib.min.js"><\/script>')</script>
    <script src="ros2_qa.js?v=20250922"></script>
  </body>
</html>
